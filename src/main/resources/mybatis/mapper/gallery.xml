<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="gallery">
  <select id="count" resultType="string">
  	SELECT count(gallery_id) 
  	  FROM zipdoc.tbl_gallery;
  </select>
  <select id="lists" resultType="map" parameterType="map">
	SELECT 	gallery_id AS galleryid,
			gallery_watcher AS watcher,
			gallery_favor AS favor,
			gallery_clip AS clip,
			gallery_title AS title,
			gallery_addr AS addr,
			gallery_size AS size,
			gallery_type AS type,
			gallery_cost AS cost,
			gallery_terms AS terms,
			gallery_method AS method,
			gallery_partnerid AS partnerid
  	FROM zipdoc.tbl_gallery 
  	ORDER BY gallery_id ASC
  	LIMIT #{startIndex}, #{viewItems}
  </select>
  <select id="mainimg" resultType="map" parameterType="map">
  	select 	gallery_id as galleryid, gallery_imgs as mainimg 
  	  from 	zipdoc.tbl_gallery_imgs 
  	 where 	gallery_main_img=true 
  	 limit 	#{startIndex}, #{viewItems};
  </select>
  
</mapper>